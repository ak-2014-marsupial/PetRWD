# Детальна Реалізація Керування Темою

Цей документ розкриває технічні деталі реалізації системи тем в додатку.

## Основний Принцип: CSS-змінні

Вся система тем побудована на нативних CSS-змінних (Custom Properties). Цей підхід дозволяє змінювати візуальне оформлення всього додатку без перезавантаження сторінки та без використання JavaScript для прямого маніпулювання стилями окремих компонентів.

Основний набір змінних визначений в `src/app/styles/variables.css`.

## Перемикання Теми (Світла/Темна)

Логіка перемикання теми базується на додаванні/видаленні класу (наприклад, `dark`) до основного елемента `<body>` або `<html>`.

1.  **`useTheme` Hook (`src/shared/lib/theme/useTheme.ts`):**
    - Цей хук надає функцію `toggleTheme` та поточне значення теми (`theme`).
    - При виклику `toggleTheme`, хук визначає нову тему (якщо була `light`, стане `dark`, і навпаки).
    - Нове значення теми записується в `localStorage`, щоб вибір користувача зберігався між сесіями.
    - Клас теми застосовується до кореневого елемента `document.body`.

2.  **`ThemeSwitcher` Feature (`src/features/theme-switcher`):**
    - Цей компонент використовує хук `useTheme` для отримання функції `toggleTheme`.
    - Він рендерить кнопку, яка при кліку викликає `toggleTheme`.

3.  **CSS:**
    - В `variables.css` визначені два набори кольорів: один для `:root` (світла тема за замовчуванням) та інший для `.dark` (темна тема).
    - Коли до `body` додається клас `.dark`, браузер автоматично застосовує інший набір значень для тих самих CSS-змінних, миттєво змінюючи вигляд усього додатку.

## Розширені Налаштування

Для більш глибокого налаштування теми, такого як вибір основного кольору та розміру шрифту, використовується окремий віджет `ThemeSettingsEditor`.

*(Детальна інформація про його роботу описана в документі `docs/ThemeSettingsEditor.md`)*

Такий підхід, що поєднує класи на кореневому елементі та набори CSS-змінних, є дуже гнучким, продуктивним та легким у підтримці.